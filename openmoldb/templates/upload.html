{% extends "base.html" %}
{% block content %}

{% if nogo %}
<h2>Sorry, feature not enabled!</h2>

{% else %}


{% if logedin %}
<div class="">
<form class="form-horizontal" action="" method="post">
{% csrf_token %}
<button class="button tiny" type="submit" value="logout" name="logout" >Log out, {{user.username}}.</button>
</div>
</form>
</div>

{% if single %}

<section id="single" class="row">
<div>
<h2>Upload single molecule.</h2>
<ul>
<li>Name and SMILES are required.</li>
<li>OpenMolDB automatically calculates properties from SMILES code.</li>
</ul>
<form class="form-horizontal" action="/upload/" method="post">
{% csrf_token %}

    <div class="row">
    <div class="large-1 columns">
    <label for="SMILES" ><strong><abbr title="Simplified Molecular-Input Line-Entry System">SMILES: </abbr></strong></label>
    </div>
    <div class="large-6 columns left">
    {{form.smiles}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="Name"><strong>Name:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.name}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="Name"><strong>Alternate name:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.altname}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="CAS"><strong><abbr title="Chemical Abstracts Service registry number">CAS:</abbr></strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.cas}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="suppID"><strong>Supplier:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.supplier}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="suppID"><strong>Supplier ID:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.supplierid}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="molclass"><strong>Class:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.molclass}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="molclass"><strong>Amount:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.amount}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="molclass"><strong>Unit:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.unit}}
    </div>
    </div>
    
    <div class="row">
    <div class="large-1 columns">
    <label for="molclass"><strong>Comment:</strong></label>
    </div>
    <div class="large-3 columns left">
    {{form.comment}}
    </div>
    </div>
    
    <div class="form-actions">
    <div class="control-group">
        <button class="button" type="submit" value="single" name="single">Submit</button>
    </div>
</div>
</form>
</div>
</section>

{% endif %}

{% if table %}
<section id="table" class="row">
<div>
<h2>Upload csv table.</h2>
<ul>
<li>OpenMolDB accepts comma seperated tables (.csv).</li>
<li>Tables should be saved in "Excel dialect" with comma as field delimiter and " as text delimiter.</li>
</ul>
<form class="form-horizontal" action="" method="post">
{% csrf_token %}

<div class="control-group">
    <label class="control-label" for="uploadfile">Select a file to upload:</label>
    <div class="controls">
    {{fileform.fileform}} 
    </div>
    </div>
<div class="form-actions">
    <div class="control-group">
        <button class="button" type="submit" value="table" name="table">Upload</button>
    </div>
</div>
</form>
</div>
</section>
{% endif %}
{% else %}

<div class="login">
    <h2>Please login to submit entries or upload tables.</h2>
    <a href="{{servername}}/login.html" class="btn btn-primary btn-large"><i class="icon-user"></i>Login</a>
    <br>
</div>

{% endif %}
</div>

{% endif %}

{% endblock %}