{% extends "base.html" %}
{% block content %}
<script type="text/javascript" src="{{servername}}/static/js/ChemDoodleWeb-libs.js"></script>
<script type="text/javascript" src="{{servername}}/static/js/ChemDoodleWeb.js"></script>
{% if mollist.has_previous %}

{% else %}
<div class="alert-box">
<strong class="row">Number of molecules: {{ofmols}}</strong>
</div>
{% endif %}

{% for mol in mollist %}
<div id="mol{{mol.id}}" class="row">
        <a href="{{servername}}/molecule/{{mol.id}}"><h2><i class="icon-beaker"></i> {{mol.name}}</h2></a>
        <div class="small-2 large-3 columns">
            <script>
            var viewACS = new ChemDoodle.ViewerCanvas('{{mol.id}}', 100, 100);
            viewACS.specs.bonds_width_2D = .6;
            viewACS.specs.bonds_saturationWidth_2D = .18;
            viewACS.specs.bonds_hashSpacing_2D = 2.5;
            viewACS.specs.atoms_font_size_2D = 10;
            viewACS.specs.atoms_font_families_2D = ['Helvetica', 'Arial', 'sans-serif'];
            viewACS.specs.atoms_displayTerminalCarbonLabels_2D = true;
            var caffeineMolFile = '{{mol.molfile}}';
            var caffeine = ChemDoodle.readMOL(caffeineMolFile);
            caffeine.scaleToAverageBondLength(14.4);
            viewACS.loadMolecule(caffeine);
            </script>
            <p><strong><abbr title="Chemical Abstracts Service registry number">CAS:</abbr></strong> {{mol.CAS}}</p>
            <p><strong><abbr title="Simplified Molecular-Input Line-Entry System">SMILES</abbr>:</strong> {{mol.SMILES}}</p>
        </div>
        <div class="small-2 large-3 columns">
            <h4>Properties</h4>
            <p><strong><abbr title="Molecular weight">MW:</abbr></strong> {{mol.CMW|floatformat:3}}</p>
            <p><strong>Brutto formula:</strong> {{mol.CHN}}</p>
        </div>
        <div class="small-2 large-4 columns left">
            <h4>Availability</h4>
            <p><strong>Supplier and code:</strong> {{mol.supplier}}; {{mol.supplierID}}</p>
            <p><strong>Storage ID:</strong> {{mol.storageID}}</p>
            <p><strong>Quantity:</strong> {{mol.amount}} {{mol.unit}}</p>
        </div>
</div>
<hr>
{% endfor %}

    <div class="pagination">
    <ul class="row">
        {% if mollist.has_previous %}
            <li class="arrow"><a href="{{currentpath}}page={{ mollist.previous_page_number }}">&laquo;</a></li>
        {% else %}
            <li class="arrow unavailable"><a href="">&laquo;</a></li>
        {% endif %}
        {% for pagen in mollist.paginator.page_range %}
            {% ifequal currpage pagen %}
            <li class="current"><a href="{{currentpath}}page={{pagen}}">{{pagen}}</a></li>
            {% else %}
            <li><a href="{{currentpath}}page={{pagen}}">{{pagen}}</a></li>
            {% endifequal %}
        {% endfor %}
        {% if mollist.has_next %}
            <li class="arrow"><a href="{{currentpath}}page={{ mollist.next_page_number }}">&raquo;</a></li>
        {% else %}
            <li class="arrow unavailable"><a href="">&raquo;</a></li>
        {% endif %}
        
    </ul>
    </div>

</div>

{% endblock %}